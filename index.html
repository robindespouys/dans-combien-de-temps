<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Dans combien de temps ?</title>
    <style>
        :root {
            --bg-color: black;
            --text-color: #00ff00;
            --main-color: #00ff00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            font-family: monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 100vh;
            padding: 2rem;
        }

        .ascii-line {
            font-size: 1.5rem;
            margin: 0.5rem 0;
            white-space: pre;
        }

        .digit {
            display: inline;
        }

        .digit.last {
            animation: flicker 1s step-end infinite, pulse 1s ease-in-out infinite;
        }

        @keyframes flicker {
            50% {
                opacity: 0.4;
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.4);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Horloge circulaire */
        .wrapper {
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 40px;
        }

        .bar-seconds,
        .number-hours {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .bar-seconds span {
            position: absolute;
            transform: rotate(calc(var(--index) * 6deg));
            inset: -10px;
            text-align: center;
        }

        .bar-seconds span p {
            display: inline-block;
            width: 2px;
            height: 8px;
            background: var(--main-color);
            border-radius: 2px;
            box-shadow: 0 0 10px var(--main-color);
        }

        .bar-seconds span:nth-child(5n) p {
            width: 4px;
            height: 12px;
            transform: translateY(1px);
        }

        .number-hours span {
            position: absolute;
            transform: rotate(calc(var(--index) * 30deg));
            inset: 6px;
            text-align: center;
        }

        .number-hours span p {
            font-size: 24px;
            color: var(--main-color);
            text-shadow: 0 0 10px var(--main-color);
            transform: rotate(calc(var(--index) * -30deg));
        }

        .hands-box {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hands-box .hand {
            position: absolute;
            border-radius: 50%;
            display: flex;
            justify-content: center;
        }

        .hands-box .hand i {
            display: inline-block;
            transform-origin: bottom;
            border-radius: 50%;
            box-shadow: 0 0 10px var(--main-color);
        }

        .hands-box .hours {
            width: 200px;
            height: 200px;
        }

        .hands-box .hours i {
            width: 6px;
            height: 100px;
            background: var(--main-color);
        }

        .hands-box .minutes {
            width: 260px;
            height: 260px;
        }

        .hands-box .minutes::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 15px;
            background: var(--main-color);
            border-radius: 50%;
            box-shadow: 0 0 5px var(--main-color);
        }

        .hands-box .minutes i {
            width: 6px;
            height: 130px;
            background: var(--main-color);
        }

        .hands-box .seconds {
            width: 280px;
            height: 280px;
        }

        .hands-box .seconds::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 10px;
            background: #FFF;
            border-radius: 50%;
            box-shadow: 0 0 2px rgba(0, 0, 0, .5);
        }

        .hands-box .seconds i {
            width: 2px;
            height: 140px;
            background: white;
            box-shadow: none;
        }
    </style>
</head>

<body>
    <div class="ascii-line">> Il reste</div>
    <div class="ascii-line" id="counter">> 000000 secondes</div>
    <div class="ascii-line">> avant la rencontre...</div>

    <!-- HORLOGE -->
    <div class="wrapper">
        <div class="bar-seconds"></div>
        <div class="number-hours"></div>
        <div class="hands-box">
            <div class="hand hours"><i></i></div>
            <div class="hand minutes"><i></i></div>
            <div class="hand seconds"><i></i></div>
        </div>
    </div>


    <script>
        // DÃ©compte en secondes
        const targetDate = new Date("2025-08-12T15:00:00+02:00");
        const counterDiv = document.getElementById("counter");

        function updateCountdown() {
            const now = Date.now();
            const diffInSeconds = Math.floor((targetDate.getTime() - now) / 1000);

            if (diffInSeconds >= 0) {
                const formatted = diffInSeconds.toString().padStart(6, '0');
                const allDigits = formatted.slice(0, -1).split('');
                const lastDigit = formatted.slice(-1);

                counterDiv.innerHTML = '> ';
                allDigits.forEach(d => {
                    const span = document.createElement('span');
                    span.className = 'digit';
                    span.textContent = d;
                    counterDiv.appendChild(span);
                });

                const last = document.createElement('span');
                last.className = 'digit last';
                last.textContent = lastDigit;
                counterDiv.appendChild(last);

                counterDiv.innerHTML += ' secondes';
            } else {
                clearInterval(countdownInterval);
                // Donut ASCII rotatif
                document.body.innerHTML = '> ðŸ’¥ C\'est maintenant !';
                const pre = document.createElement("pre");
                pre.style.cssText = `
                font-family: monospace;
                font-size: 10px;
                line-height: 7px;
                color: #00ff00;
                text-shadow: 0 0 2px #00ff00;
                white-space: pre;
                `;
                document.body.appendChild(pre);

                            let x=1760,
                        z=0,y=0;setInterval
                        (()=>{z+=.07,y+=.03;const
                    a=[...new Array(x)].map( (a,r
                    )=>r % 80 === 79 ?"\n":" "),r=new
                Array(x).fill(0), t= Math.cos(z),e=
                Math.sin(z),n=Math.cos(y), o=Math.sin
                (y);for(let s=0;s<6.28; s+=.07){const c
                =Math.cos(s),h=      Math.sin(s);for(let
                s=0;s<6.28;s+=          .02){const v=Math
                .sin(s),M=Math          .cos(s),i=c+2,l=1
                /(v*i*e+h*t+5          ),p=v*i*t-h*e,d=0
                |40+30*l*(M*i*n      -p*o),m=0|12+15*l*
                (M*i*o+p*n),f=0|8*((h*e-v*c*t)*n-v*c*
                    e-h*t-M*c*o), y=d+80*m;m<22&&m>=0
                    &&d>=0&&d<79&&l>r[y] &&(r[y]=l,
                    a[y]= ".,-~:;=!*#$@"[f>0?f:0
                    ])}}pre.innerHTML=a.join
                        ("")},50); /* JS by 
                            @housamz */
            }
        }

        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown();

        // HORLOGE
        const numberHours = document.querySelector('.number-hours');
        const barSeconds = document.querySelector('.bar-seconds');
        const handHours = document.querySelector('.hand.hours');
        const handMinutes = document.querySelector('.hand.minutes');
        const handSeconds = document.querySelector('.hand.seconds');

        for (let i = 1; i <= 12; i++) {
            numberHours.insertAdjacentHTML("beforeend",
                `<span style="--index:${i};"><p>${i}</p></span>`);
        }

        for (let i = 1; i <= 60; i++) {
            barSeconds.insertAdjacentHTML("beforeend",
                `<span style="--index:${i};"><p></p></span>`);
        }

        function getCurrentTime() {
            const date = new Date();
            const h = date.getHours();
            const m = date.getMinutes();
            const s = date.getSeconds();

            handHours.style.transform = `rotate(${h * 30 + m / 2}deg)`;
            handMinutes.style.transform = `rotate(${m * 6 + s * 0.1}deg)`;
            handSeconds.style.transform = `rotate(${s * 6}deg)`;
        }

        getCurrentTime();
        setInterval(getCurrentTime, 1000);

    </script>
</body>

</html>